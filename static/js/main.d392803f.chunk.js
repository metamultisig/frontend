(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{216:function(e,t,n){e.exports=n(499)},221:function(e,t,n){},224:function(e,t,n){},348:function(e,t){},356:function(e,t){},358:function(e,t){},390:function(e,t){},473:function(e,t){},475:function(e,t){},499:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),i=n(34),s=n.n(i),o=(n(221),n(215)),c=n(35),u=n.n(c),l=n(49),h=n(23),p=n(24),b=n(26),d=n(25),v=n(27),m=n(7),g=n(119),f=(n(224),n(44)),j=n.n(f),O=/^0x[0-9a-fA-F]{40}$/,C=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(b.a)(this,Object(d.a)(t).call(this,e))).valid=void 0,n.timerId=void 0,n.onChange=n.onChange.bind(Object(m.a)(Object(m.a)(n))),n.tryResolveName=n.tryResolveName.bind(Object(m.a)(Object(m.a)(n))),n.valid=null!=e.value&&O.test(e.value),null!=e.value&&e.value.includes(".")&&!e.value.endsWith(".")&&(n.timerId=setTimeout(n.tryResolveName,200)),n}return Object(v.a)(t,e),Object(p.a)(t,[{key:"onChange",value:function(e){e.target.value&&(this.valid=O.test(e.target.value),this.props.onChange&&this.props.onChange(e.target.value,O.test(e.target.value),e.target.value),e.target.value.includes(".")&&!e.target.value.endsWith(".")&&(this.timerId&&(clearTimeout(this.timerId),this.timerId=void 0),this.timerId=setTimeout(this.tryResolveName,200)))}},{key:"tryResolveName",value:function(){var e=Object(l.a)(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.provider.resolveName(this.props.value);case 2:(t=e.sent)&&(this.valid=!0,this.props.onChange&&this.props.onChange(this.props.value,!0,t));case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.timerId&&clearTimeout(this.timerId)}},{key:"render",value:function(){return r.a.createElement(j.a,{onChange:this.onChange,label:this.props.label,value:this.props.value||"",error:!this.valid,placeholder:"name.eth or 0x..."})}}]),t}(a.Component),y=n(211),S=n.n(y),k=n(212),w=n.n(k),x=n(214),E=n.n(x),A=n(118),F=n.n(A),N=n(213),I=n.n(N),R=n(21),W=n(208),L=n.n(W),T=/^[0-9a-fA-f]{64}$/,U=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(b.a)(this,Object(d.a)(t).call(this,e))).onChange=n.onChange.bind(Object(m.a)(Object(m.a)(n))),n}return Object(v.a)(t,e),Object(p.a)(t,[{key:"onChange",value:function(e){this.props.onChange&&this.props.onChange("0x"+e.target.value,T.test(e.target.value))}},{key:"render",value:function(){var e=this.props,t=e.label,n=e.classes;return r.a.createElement(j.a,{label:t,className:n.textField,onChange:this.onChange,error:!T.test(this.props.value||""),value:(this.props.value||"").replace(/^0x/,""),InputProps:{startAdornment:r.a.createElement(L.a,{position:"start"},"0x")},placeholder:"(32 bytes)"})}}]),t}(a.Component),B=Object(R.withStyles)(function(e){return Object(R.createStyles)({textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit}})})(U),J=n(209),$=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(b.a)(this,Object(d.a)(t).call(this,e))).onChange=n.onChange.bind(Object(m.a)(Object(m.a)(n))),n}return Object(v.a)(t,e),Object(p.a)(t,[{key:"onChange",value:function(e){if(this.props.onChange){var t=e.target.value;this.props.signed&&t.startsWith("-")&&(t=t.slice(1)),""==t.trim()?this.props.onChange(null,!0):this.props.onChange(Object(J.bigNumberify)(t),!0)}}},{key:"render",value:function(){var e=this.props,t=e.label,n=e.value,a=e.classes;return r.a.createElement(j.a,{label:t,className:a.textField,onChange:this.onChange,type:"number",value:null==n?"":n.toString(),error:null==n,placeholder:this.props.signed?"(Integer)":"(Unsigned Integer)"})}}]),t}(a.Component),P=Object(R.withStyles)(function(e){return Object(R.createStyles)({textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit}})})($),D=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(b.a)(this,Object(d.a)(t).call(this,e))).onChange=n.onChange.bind(Object(m.a)(Object(m.a)(n))),n}return Object(v.a)(t,e),Object(p.a)(t,[{key:"onChange",value:function(e){this.props.onChange&&this.props.onChange(e.target.value,!0)}},{key:"render",value:function(){var e=this.props,t=e.label,n=e.value,a=e.classes;return r.a.createElement(j.a,{label:t,className:a.textField,placeholder:"(String)",onChange:this.onChange,value:n||""})}}]),t}(a.Component),q=Object(R.withStyles)(function(e){return Object(R.createStyles)({textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit}})})(D),z=n(117),G=n.n(z),H=n(116),K=n.n(H),M=n(68),Q=n.n(M),V=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(b.a)(this,Object(d.a)(t).call(this,e))).onChange=n.onChange.bind(Object(m.a)(Object(m.a)(n))),n}return Object(v.a)(t,e),Object(p.a)(t,[{key:"onChange",value:function(e){this.props.onChange&&this.props.onChange((new TextEncoder).encode(e.target.value),!0)}},{key:"render",value:function(){var e=this.props,t=e.label,n=e.value,a=e.classes,i=null==n?"":(new TextDecoder).decode(n);return r.a.createElement(G.a,{className:a.formControl},r.a.createElement(K.a,{htmlFor:"component-simple"},t),r.a.createElement(Q.a,{id:"component-simple",placeholder:"(Bytes)",onChange:this.onChange,value:i}))}}]),t}(a.Component),X=Object(R.withStyles)(function(e){return Object(R.createStyles)({formControl:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit}})})(V),Y=function(e){function t(){return Object(h.a)(this,t),Object(b.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.provider,n=e.label,a=e.type,i=e.value,s=e.onChange;e.classes;switch(a){case"bytes32":return r.a.createElement(B,{label:n,onChange:s,value:i});case"uint256":return r.a.createElement(P,{label:n,signed:!0,onChange:s,value:i});case"int256":return r.a.createElement(P,{label:n,signed:!1,onChange:s,value:i});case"address":return r.a.createElement(C,{label:n,provider:t,onChange:s,value:i});case"bytes":return r.a.createElement(X,{label:n,onChange:s,value:i});case"string":return r.a.createElement(q,{label:n,onChange:s,value:i});default:return r.a.createElement("span",null,"Unsupported type ",a," for ",n)}}}]),t}(a.Component),Z=Object(R.withStyles)(function(e){return Object(R.createStyles)({textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit}})})(Y),_=n(210),ee=n.n(_),te=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(b.a)(this,Object(d.a)(t).call(this,e))).state={fields:Array(e.abi.inputs.length).fill({value:null,valid:!1})},n.onChange=n.onChange.bind(Object(m.a)(Object(m.a)(n))),n.onSubmit=n.onSubmit.bind(Object(m.a)(Object(m.a)(n))),n}return Object(v.a)(t,e),Object(p.a)(t,[{key:"onChange",value:function(e,t,n){var a=this.state.fields;a[e]={value:t,valid:n},this.setState({fields:a})}},{key:"onSubmit",value:function(e){this.props.onSubmit&&this.props.onSubmit(this.state.fields.map(function(e){return e.value}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.abi,a=t.classes,i=t.provider,s=n.inputs.map(function(t,n){return r.a.createElement(Z,{provider:i,key:t.name,label:t.name,type:t.type,value:e.state.fields[n].value,onChange:function(t,a){return e.onChange(n,t,a)}})});return r.a.createElement("div",null,s,r.a.createElement(ee.a,{variant:"contained",className:a.button,color:"primary",disabled:!this.state.fields.reduce(function(e,t){return e&&t.valid},!0),onClick:this.onSubmit},"Submit"))}}]),t}(a.Component),ne=Object(R.withStyles)(function(e){return Object(R.createStyles)({textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit},button:{margin:e.spacing.unit}})})(te);var ae=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(b.a)(this,Object(d.a)(t).call(this,e))).onSubmit=n.onSubmit.bind(Object(m.a)(Object(m.a)(n))),n}return Object(v.a)(t,e),Object(p.a)(t,[{key:"componentWillUnmount",value:function(){}},{key:"onSubmit",value:function(e,t){this.props.onSubmit&&this.props.onSubmit(e,t)}},{key:"render",value:function(){var e=this,t=this.props.abi.filter(function(t){return function(e){return void 0!==e.constant}(t)&&t.constant==e.props.const});return t.sort(function(e,t){return e.name.localeCompare(t.name)}),t.map(function(t){return r.a.createElement(S.a,{key:t.name},r.a.createElement(w.a,{expandIcon:r.a.createElement(I.a,null)},r.a.createElement(F.a,null,t.name)),r.a.createElement(E.a,null,r.a.createElement(ne,{provider:e.props.provider,abi:t,onSubmit:function(n){return e.onSubmit(t,n)}})))})}}]),t}(a.Component),re=function(){function e(t){Object(h.a)(this,e),this.provider=void 0,this.provider=t}return Object(p.a)(e,[{key:"fetch",value:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){var e=Object(l.a)(u.a.mark(function e(t,n){var a,r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.etherscan.io/api?module=contract&action=getabi&address="+t);case 2:return a=e.sent,e.next=5,a.json();case 5:return r=e.sent,e.abrupt("return",JSON.parse(r.result));case 7:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}())}]),e}(),ie=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(b.a)(this,Object(d.a)(t).call(this,e))).provider=void 0,n.abiFetcher=void 0,n.provider=new g.ethers.providers.Web3Provider(ethereum),n.abiFetcher=new re(n.provider),n.onAddressChange=n.onAddressChange.bind(Object(m.a)(Object(m.a)(n))),n.onSubmit=n.onSubmit.bind(Object(m.a)(Object(m.a)(n))),n.state={abi:[],contractAddress:""},n}return Object(v.a)(t,e),Object(p.a)(t,[{key:"onAddressChange",value:function(){var e=Object(l.a)(u.a.mark(function e(t,n,a){var r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=7;break}return e.next=3,this.abiFetcher.fetch(a,t);case 3:r=e.sent,this.setState({abi:r,contractAddress:t}),e.next=8;break;case 7:this.setState({contractAddress:t});case 8:case"end":return e.stop()}},e,this)}));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"onSubmit",value:function(){var e=Object(l.a)(u.a.mark(function e(t,n){var a,r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ethereum.enable();case 2:return a=new g.ethers.Contract(this.state.contractAddress,this.state.abi,this.provider).connect(this.provider.getSigner()),e.next=5,a[t.name].apply(a,Object(o.a)(n));case 5:r=e.sent,console.log(r.hash);case 7:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"render",value:function(){this.props.classes;return r.a.createElement("div",{className:"App"},r.a.createElement(C,{label:"Address",provider:this.provider,onChange:this.onAddressChange,value:this.state.contractAddress}),r.a.createElement(ae,{const:!1,provider:this.provider,abi:this.state.abi,onSubmit:this.onSubmit}))}}]),t}(a.Component),se=Object(R.withStyles)(function(e){return Object(R.createStyles)({container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit}})})(ie);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(se,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[216,1,2]]]);
//# sourceMappingURL=main.d392803f.chunk.js.map